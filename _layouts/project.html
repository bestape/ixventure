---
layout: default
---

<article class="project">
  <header>
    <h1>{{ page.title }}</h1>
  </header>

  <section class="project-gallery">
    {% comment %}
      Detect collection type from page.path
      and map it to the right asset folder
    {% endcomment %}
    {% if page.path contains '_projects/' %}
      {% assign folder = 'projects' %}
    {% elsif page.path contains '_partnerships/' %}
      {% assign folder = 'partnerships' %}
    {% elsif page.path contains '_operations/' %}
      {% assign folder = 'operations' %}
    {% elsif page.path contains '_products/' %}
      {% assign folder = 'products' %}
    {% elsif page.path contains 'about-us/' %}
      {% assign folder = 'about-us' %}
    {% else %}
      {% assign folder = 'projects' %} {# default fallback #}
    {% endif %}

    {% comment %}
      Use the same slug logic as default.html so `-1.filename` works
    {% endcomment %}
    {% assign project_slug = page.slug | default: page.name | split: "." | first %}
    {% include gallery.html slug=project_slug title=page.title folder=folder %}
  </section>
  
  <section class="project-content">
    {{ content }}
  </section>

  {% if page.links %}
  <section class="project-links">
    <h2>Links</h2>
    <ul>
      {% for link in page.links %}
        <li><a href="{{ link.url }}" target="_blank" rel="noopener">{{ link.name }}</a></li>
      {% endfor %}
    </ul>
  </section>
  {% endif %}
</article>
